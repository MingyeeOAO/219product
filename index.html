<!DOCTYPE html>
<html>
    <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/3c5be74ba6.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <link href="https://unpkg.com/aos@next/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="main.css" rel="stylesheet" /><script src="main.js"></script>
    <title>119Web Site</title>
    </head>
    <body>
<!--Bar-->
        <div id="header-bar">
            <h1 class="header">CHSH 119 <b>.</b></h1>    
            <h1 onclick="on()" class="fas fa-bars"></h1></div>
        <!--Slider-->
        <div id="slider" class="slide-out">
        <div id="close" onclick="off()"></div>
        <div id="nav-bar"><ul>
        <li><h3>Menu<b>.</b></h3></li>
        <li><a href="#logo" onclick="off()">Home</a></li>
        <li><a href="#product-title" onclick="off()">About Products</a></li>
        <li><a href="#set-title" onclick="off()">Set Menu</a></li>
        <li><a href="#about" onclick="off()">about</a></li>
        <li class ='creator'>
            <a  onclick="creator()">Creator</a>
        </li>
        <li>
            <a onclick="abpage()">About this Page</a>
        </li>
        <!--Switch--><li style="display:flex;align-items:center;justify-content:space-between;">
        <h5>Night</h5>  
        <div id="switch" onclick="swch()">
        <div id="swch"></div></div><h5>Light</h5></li>
        </ul></div></div>
        <!--Logo--> 
        <div id="logo"><ul data-aos="zoom-in-up">
        <li><h1>頂級"舔"點</h1></li>
        <li><h2>享受味蕾的衝擊</h2></li>
        <li><a href="#product"><button>
        Start</button></a></li>
        </ul></div>
        <div id="product-title"><li><h1>~~~Products~~~</h1></li></div>
        <!--info-->
        <div id = "info"></div>
        <!--Products-->
        <div id="product">
                  
        </div> 
        <div id="set-title"><li><h1>~~~Meal Sets~~~</h1></li></div>
        <!--Set Menu-->
        <div id ="sets"></div>
        <!--About-->
        <div id="about"><ul><li>
        <h1>CHSH 119 Products<b>.</b></h1></li>
        <li><h4>Fresh, Clean, Enjoyable.</h4></li> 
        </ul></div>
        
            
        <!--buylink-->
        <div id="buylink">
            <button id="buy" onclick="getnum()">Buy Now</button>
        </div>
        <script>
            var products = [
            {
                name: "奶酪",
                price: "35, 兩個特價60!",
                about:"打開杯蓋，撲鼻而來的只有鮮奶的濃純香!我們用料實在，全程不加一滴水，還細選三種美味的加料，錯過可惜！",
                src: "ptcta" 
            },{
                name: "布蕾",
                price: "50",
                about:"~這扎實的用料，細緻的口感，還有表層炙燒得令人垂涎欲滴的焦糖，你，還在等什麼?別再蕾了啦哥!",
                src: "bu"
            },{    
                name: "冰棒",
                price: "30",
                about:"炎炎夏日就該來支老少咸宜的冰棒!我們精挑四種經典滋味準備給您品嚐，吃下去保證暑氣全消，透心涼~",
                src: "popsicle" 
            },{
                name: "三明治",
                price: "45, 加蛋僅5元!",
                about:"此三明治非彼三明治也，利用優質烤肉、美生菜、吐司的完美結合，還有神秘配料共舞，絕對是您解饞止飢的好選擇!",
                src: "sandwich" 
            },{
                name: "乾冰飲料",
                price: "40",
                about:"利用夏天冰涼的汽水結合氣勢炸裂的乾冰，營造出吞雲吐霧的神秘感，不僅消暑解渴，其風味更值得您來試試!",
                src: "dryice"
                 
            },{
                name: '"女"僕',
                price: "免費",
                about:"各位！我們這次不但提供了各種美食\n還有專人著女僕裝來服務你/妳們！",
                src: "Maid"  
            },/*{
                name: "Egg with Vegetables",
                price: "10",
                about:"write write write write write write write write write write write write write write write write",
                src: "6LpM84X"
            },{
                name: "Spaghetti",
                price: "6",
                about:"write write write write write write write write write write write write write write write write",
                src: "5ghPGpp"
            }*/
            ]
            var sets =[{
                name:"A套餐",
                price:"80 原價90",
                about:"內含:加蛋烤肉三明治一份＆乾冰汽水一杯",
                src:"SMA"
            },
            {
                name:"B套餐",
                price:"80 原價90",
                about:"內含:焦糖烤布蕾一份＆奶酪一份(可任挑一種配料)",
                src:"SMB"
            },
            {
                name:"C套餐",
                price:"120  原價140",
                about:"內含:加蛋烤肉三明治一份＆汽水一杯/冰棒一支＆焦糖烤布蕾一份/奶酪一份(可任挑一種配料)",
                src:"SMC"
            }
            ]
            for(var p=0;p<products.length;p++){
                var product =
                document.getElementById("product");
                product.innerHTML+=`<div class="product"
                style="background:url('pictures/${products[p].src}.jpg');
                background-size:cover;"
                onclick="info(${p})"     data-aos="zoom-in-up">
                <div id="info-p"><h2>${products[p].name}</h2>
                    <button id="buy"onclick=popup()>
                        點我看介紹
                    </button>
                </div>`
                    /*<div id="pop">
                        hello!<br>this is my popup!<br>and don't forget to like :)
                        <br><br><button id="cross"onclick=popin()>
                            &times;
                        </button>
                    </div>*/  
            } 
            for(var p=0; p<sets.length; p++){
                var product =
                document.getElementById("sets");
                var arr = ["zoom-in-right", "zoom-in-left"]
                product.innerHTML+=`<div class="sets"
                style="background:url('pictures/${sets[p].src}.jpg');
                background-size:cover;"
                onclick="sinfo(${p})"    data-aos=${arr[p%2]}>
                <div id="info-p"><h2>${sets[p].name}</h2>
                    <button id="buy"onclick=popup()>
                        點我看介紹 
                    </button>
                </div>`
            } 
            function info(num){
                var info =
                document.getElementById("info");
                setTimeout(() => {
                info.style.display="block";  
                },1000);
                /*var pic =  "https://mingyeeoao.github.io/119product/pictures/"+products[p].src+".jpg)"
                Swal.fire({
                    imageUrl: pic,
                    imageWidth: 400,
                    imageHeight: 200,
                    imageAlt: 'Custom image',
                })*/
                
                info.innerHTML=`<div class="img-box" >
                <h1 class="fas fa-arrow-circle-left" onclick="back_home()"></h1><img src="pictures/${products[num].src}.jpg">    
                </div>
                <div class="info"><ul>
                <li><h2>產品介紹:</h2></li>
                <li>${products[num].about}</li>
                <li>價格: $${products[num].price}</li>
                </ul></div>`
            }
            function sinfo(num){
                var info =
                document.getElementById("info");
                setTimeout(() => {
                info.style.display="block";  
                },200);
                /*var pic =  "https://mingyeeoao.github.io/119product/pictures/"+products[p].src+".jpg)"
                Swal.fire({
                    imageUrl: pic,
                    imageWidth: 400,
                    imageHeight: 200,
                    imageAlt: 'Custom image',
                })*/
                
                info.innerHTML=`<div class="img-box" >
                <h1 class="fas fa-arrow-circle-left" onclick="back_home()"></h1><img src="pictures/${sets[num].src}.jpg">    
                </div>
                <div class="info"><ul>
                <li><h2>產品介紹:</h2></li>
                <li>${sets[num].about}</li>
                <li>價格: $${sets[num].price}</li>
                </ul></div>`
            } 
            Swal.fire({
            icon: 'success',
            title: 'Welcome !',
            text: '歡迎來到119的神奇網站，開始購物吧~',
            footer: 'Mingyee'
            }); 
            AOS.init({duration: 1500,}) 
            function creator(){
                Swal.fire({
                    title:"Creator info",
                    //text:"Discord : Mingyee#4483",
                    showClass: {
                        popup: 'animate__animated animate__fadeInRight'
                      },
                      hideClass: {
                        popup: 'animate__animated animate__fadeOutLeft'
                      },
                    html:
                    'Discord : Mingyee#4483 <br>'+
                    '<a href = "https://www.instagram.com/chsh_1_1_9._.best/", style="color:blue">119IG</a>',
                    footer:"Made by 119 04 :)"
                })
            }
            function getnum(){
                var url = "https://json.extendsclass.com/bin/9d4cdeea402e";
                var xhr = new XMLHttpRequest();
                var req = new XMLHttpRequest();
                xhr.open('GET', url, true);
                xhr.onreadystatechange = () =>{
                    if(xhr.readyState == XMLHttpRequest.DONE){
                        editdata(xhr.responseText)
                    }

                }
                function getRandom(min,max){
                    return Math.floor(Math.random()*(max-min+1))+min;
                };
                function editdata(str){
                    data = JSON.parse(str);
                    
                    var a = getRandom(10000, 99999);
                    while(data.num.includes(a)){
                        a = getRandom(10000, 99999);
                    }
                    data.num.push(a)
                    req.open("PUT", url, true);
                    req.onreadystatechange = () =>{
                    }
                    req.setRequestHeader("Security-key", "");
                    req.send(JSON.stringify(data));
                    Swal.fire({
                        title:"你的單號:"+a,
                        width:'40em',
                        showCancelButton: true,
                        
                        //background:getThemeColor(),
                        showClass: {
                            popup: 'animate__animated animate__bounceInUp'
                          },
                          hideClass: {
                            popup: 'animate__animated animate__bounceOutDown'
                          },
                        html: 'step1-> 請記住上方的單號(可截圖)<br>'+
                              'step2-> 點擊下方按鈕前往點餐表單並填入單號<br>'+
                              "step3->完成表單填寫並按下提交<br>"+
                              "step4->前往點餐區進行下個流程(見攤位上的流程表)<br>",
                        confirmButtonText: '前往連結',
                        showLoaderOnConfirm: true
                    }).then((result) =>{
                        if (result.isConfirmed) {
                            location.href = "https://forms.gle/PZtE4ufPmKRWbpVb7";
                        }
                    })
                }
                xhr.send(null);

            }
            function abpage(){
                Swal.fire({
                    title:"弄本網站的code已經我的手手qq",
                    html:"Based on Github Pages<br>"+
                        "Module used:<br>"+
                        "Animation On Scroll.css<br>"+
                        "Animate.min.css<br>"+
                        'Sources code: <a style="color:blue" href="https://github.com/MingyeeOAO/119product">link</a><br>',
                    footer:"老子刻了一個禮拜的程式被說是模板，算光榮嗎?"
                })
            }
        </script> 
    </body>
</html>
