<!DOCTYPE html>
<html>
    <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/3c5be74ba6.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <link href="https://unpkg.com/aos@next/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="main.css" rel="stylesheet" /><script src="main.js"></script>
    <title>Online Shop</title>
    </head>
    <body>
<!--Bar-->
        <div id="header-bar">
            <h1 class="header">CHSH 119 <b>.</b></h1>    
            <h1 onclick="on()" class="fas fa-bars"></h1></div>
        <!--Slider-->
        <div id="slider">
        <div id="close" onclick="off()"></div>
        <div id="nav-bar"><ul>
        <li><h3>Online Shop<b>.</b></h3></li>
        <li><a href="#logo" onclick="off()">Home</a></li>
        <li><a href="#product" onclick="off()">About Products</a></li>
        <li><a href="#new" onclick="off()"></a>Set Menu</li>
        <li><a href="#about" onclick="off()">about</a></li>
        <li class ='creator'>
            <a  onclick="creator()">Creator</a>
        </li>
        <!--Switch--><li style="display:flex;align-items:center;justify-content:space-between;">
        <h5>Night</h5>  
        <div id="switch" onclick="swch()">
        <div id="swch" onclick="off()"></div></div><h5>Light</h5></li>
        </ul></div></div>
        <!--Logo--> 
        <div id="logo"><ul data-aos="zoom-in-up">
        <li><h1>頂級"舔"點</h1></li>
        <li><h2>享受味蕾的衝擊</h2></li>
        <li><a href="#product"><button>
        Start</button></a></li>
        </ul></div>
        <!--Products-->
        <div id="product">
                  
        </div>  
        <div id="info"></div>  
        <!--About-->
        <div id="about"><ul><li>
        <h1>CHSH 119 Products<b>.</b></h1></li>
        <li><h4>Fresh, Clean, Enjoyable.</h4></li> 
        </ul></div>
        <!--Set Menu-->
        <!--buylink-->
        <div id="buylink">
            <button id="buy" onclick="getnum()">Buy Now</button>
        </div>
        <script>
            var products = [
            {
                name: "奶酪",
                price: "1",
                about:"打開杯蓋，撲鼻而來的只有鮮奶的濃純香!我們用料實在，全程不加一滴水，還細選三種美味的加料，錯過可惜！",
                src: "ptcta" 
            },{
                name: "布蕾",
                price: "2",
                about:"~這扎實的用料，細緻的口感，還有表層炙燒得令人垂涎欲滴的焦糖，你，還在等什麼?別再蕾了啦哥!",
                src: "bu"
            },{    
                name: "冰棒",
                price: "10",
                about:"炎炎夏日就該來支老少咸宜的冰棒!我們精挑四種經典滋味準備給您品嚐，吃下去保證暑氣全消，透心涼~",
                src: "popsicle" 
            },{
                name: "三明治",
                price: "10",
                about:"此三明治非彼三明治也，利用優質烤肉、美生菜、吐司的完美結合，還有神秘配料共舞，絕對是您解饞止飢的好選擇!",
                src: "sandwich" 
            }/*,{
                name: "Sandwich And Slice Of Lemons",
                price: "7",
                about:"write write write write write write write write write write write write write write write write",
                src: "利用夏天冰涼的汽水結合氣勢炸裂的乾冰，營造出吞雲吐霧的神秘感，不僅消暑解渴，其風味更值得您來試試!
"
            },{
                name: "Pizza",
                price: "15",
                about:"write write write write write write write write write write write write write write write write",
                src: "M060FSa"  
            },{
                name: "Egg with Vegetables",
                price: "10",
                about:"write write write write write write write write write write write write write write write write",
                src: "6LpM84X"
            },{
                name: "Spaghetti",
                price: "6",
                about:"write write write write write write write write write write write write write write write write",
                src: "5ghPGpp"
            }*/
            ]  
            for(var p=0;p<products.length;p++){
                var product =
                document.getElementById("product");
                product.innerHTML+=`<div class="product"
                style="background:url('pictures/${products[p].src}.jpg');
                background-size:cover;"
                onclick="info(${p})"     data-aos="zoom-in-up">
                <div id="info-p"><h2>${products[p].name}</h2>
                    <button id="buy"onclick=popup()>
                        介紹 $${products[p].price}
                    </button>
                </div>`
                    /*<div id="pop">
                        hello!<br>this is my popup!<br>and don't forget to like :)
                        <br><br><button id="cross"onclick=popin()>
                            &times;
                        </button>
                    </div>*/  
            } 
            function info(p){
                var info =
                document.getElementById("info");
                setTimeout(() => {
                info.style.display="block";  
                },1000);
                /*var pic =  "https://mingyeeoao.github.io/119product/pictures/"+products[p].src+".jpg)"
                Swal.fire({
                    imageUrl: pic,
                    imageWidth: 400,
                    imageHeight: 200,
                    imageAlt: 'Custom image',
                })*/
                
                info.innerHTML=`<div class="img-box" >
                <h1 class="fas fa-arrow-circle-left" onclick="back_home()"></h1><img src="pictures/${products[num].src}.jpg">    
                </div>
                <div class="info"><ul>
                <li><h2>產品介紹:</h2></li>
                <li>${products[num].about}</li>
                </ul></div>`
            } 
            Swal.fire({
            icon: 'success',
            title: 'Welcome !',
            text: '歡迎來到119的神奇網站，開始購物吧~',
            footer: 'Mingyee'
            }); 
            AOS.init({duration: 1500,}) 
            function creator(){
                Swal.fire({
                    title:"Creator info",
                    //text:"Discord : Mingyee#4483",
                    showClass: {
                        popup: 'animate__animated animate__fadeInRight'
                      },
                      hideClass: {
                        popup: 'animate__animated animate__fadeOutLeft'
                      },
                    html:
                    'Discord : Mingyee#4483 <br>'+
                    '<a href = "https://www.instagram.com/chsh_1_1_9._.best/", color=blue>119IG</a>',
                    footer:"Made by 119 04 :)"
                })
            }
            function getnum(){
                var url = "https://json.extendsclass.com/bin/9d4cdeea402e";
                var xhr = new XMLHttpRequest();
                var req = new XMLHttpRequest();
                xhr.open('GET', url, true);
                xhr.onreadystatechange = () =>{
                    if(xhr.readyState == XMLHttpRequest.DONE){
                        editdata(xhr.responseText)
                    }

                }
                function getRandom(min,max){
                    return Math.floor(Math.random()*(max-min+1))+min;
                };
                function editdata(str){
                    data = JSON.parse(str);
                    
                    var a = getRandom(10000, 99999);
                    while(data.num.includes(a)){
                        a = getRandom(10000, 99999);
                    }
                    data.num.push(a)
                    req.open("PUT", url, true);
                    req.onreadystatechange = () =>{
                    }
                    req.setRequestHeader("Security-key", "");
                    req.send(JSON.stringify(data));
                    Swal.fire({
                        title:"你的單號:",
                        showClass: {
                            popup: 'animate__animated animate__bounceInUp'
                          },
                          hideClass: {
                            popup: 'animate__animated animate__bounceOutDown'
                          },
                        text: a
                    })
                }
                xhr.send(null);

            }
        </script> 
    </body>
</html>